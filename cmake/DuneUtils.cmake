MACRO(ADD_CXX_FLAGS)
	ADD_DEFINITIONS(${ARGN})
	LIST(APPEND MY_CXX_FLAGS ${ARGN} )
ENDMACRO(ADD_CXX_FLAGS)

MACRO(INCLUDE_DIR)
	FOREACH( ARG ${ARGN} )
		INCLUDE_DIRECTORIES(${ARG})
		LIST(APPEND MY_CXX_FLAGS "-I${ARGN}" )
    ENDFOREACH( ARG )
ENDMACRO(INCLUDE_DIR)

MACRO( HEADERCHECK )
	set(i 0)
	ADD_CUSTOM_TARGET( headercheck )
	FOREACH( HEADER ${ARGN} )
		GET_FILENAME_COMPONENT( fn ${HEADER} NAME )
		SET( TEST_NAME "headercheck_${fn}")
		ADD_CUSTOM_TARGET(  ${TEST_NAME} ${CMAKE_CXX_COMPILER} ${MY_CXX_FLAGS} -c ${HEADER} -o ${CMAKE_CURRENT_BINARY_DIR}/${TEST_NAME}.o )
		ADD_TEST( ${TEST_NAME} ${CMAKE_CXX_COMPILER} ${MY_CXX_FLAGS} -c ${HEADER} -o ${CMAKE_CURRENT_BINARY_DIR}/${TEST_NAME}.o )
		add_dependencies( headercheck ${TEST_NAME} )
		math(EXPR i "${i} + 1")
	ENDFOREACH( HEADER )
ENDMACRO( HEADERCHECK )
